<div *ngIf="gameToEdit">
  <div>
    <h1 class="display-4 text-center">Edit game: {{gameToEdit.title}}</h1>

    <hr>
    <p class="mt-3">Fields with * are required!</p>
    <form class="form-group" [formGroup]='editGameForm' (ngSubmit)="submitEditGameForm()">

      <div class="form-group">
        <label for="title" text-warning>
          <strong>Title</strong>*
        </label>
        <input type="text" class="form-control" formControlName="title" />
        <div class="alert alert-danger animated flipInX delay-0.5s" *ngIf="title.invalid && (title.dirty || title.touched)">
          <div *ngIf="title.errors['required']">Title is required</div>
          <div *ngIf="title.errors['minlength']">Title should be atleast 2 symbols long</div>
          <div *ngIf="title.errors['maxlength']">Title max length is 20 symbols</div>
        </div>
      </div>

      <div class="form-group">
        <label for="genre">
          <strong>Image Url</strong>*
        </label>
        <input type="text" class="form-control" formControlName="image" />
        <div class="alert alert-danger animated flipInX delay-0.5s" *ngIf="image.invalid && (image.dirty || image.touched)">
          <div *ngIf="image.errors['required']">Image is required</div>
        </div>
      </div>

      <div class="form-group">
        <label for="genre">
          <strong>Publisher</strong>*
        </label>
        <input type="text" class="form-control" formControlName="publisher" />
        <div class="alert alert-danger animated flipInX delay-0.5s" *ngIf="publisher.invalid && (publisher.dirty || publisher.touched)">
          <div *ngIf="publisher.errors['required']">Publisher is required</div>
          <div *ngIf="publisher.errors['minlength']">Publisher should be atleast 2 symbols long</div>
          <div *ngIf="publisher.errors['maxlength']">Publisher max length is 20 symbols</div>
        </div>
      </div>

      <div class="form-group">
        <label for="genre">
          <strong>Developer</strong>*
        </label>
        <input type="text" class="form-control" formControlName="developer" />
        <div class="alert alert-danger animated flipInX delay-0.5s" *ngIf="developer.invalid && (developer.dirty || developer.touched)">
          <div *ngIf="developer.errors['required']">Developer is required</div>
          <div *ngIf="developer.errors['minlength']">Developer should be atleast 2 symbols long</div>
          <div *ngIf="developer.errors['maxlength']">Developer max length is 20 symbols</div>
        </div>
      </div>

      <div class="form-group">
        <label for="genre">
          <strong>Series</strong>*
        </label>
        <input type="text" class="form-control" formControlName="series" />
        <div class="alert alert-danger animated flipInX delay-0.5s" *ngIf="series.invalid && (series.dirty || series.touched)">
          <div *ngIf="series.errors['required']">Series is required</div>
          <div *ngIf="series.errors['minlength']">Series should be atleast 2 symbols long</div>
          <div *ngIf="series.errors['maxlength']">Series max length is 20 symbols</div>
        </div>
      </div>

      <div class="form-group">
        <label>
          <strong>Platform</strong>*
        </label>
        <select class="form-control" formControlName="selectedPlatform">
          <option *ngFor="let platform of platforms" [value]="platform">{{platform}}</option>
        </select>
      </div>

      <div class="form-group">
        <label for="genre">
          <strong>Release</strong>*
        </label>
        <input type="datetime" class="form-control" formControlName="release" />
        <div class="alert alert-danger animated flipInX delay-0.5s" *ngIf="release.invalid && (release.dirty || release.touched)">
          <div *ngIf="release.errors['required']">Date is required</div>
          <!--<div *ngIf="release.errors['pattern']">Enter valid date</div>-->
        </div>
      </div>

      <div class="form-group">
        <label for="genre">
          <strong>Genre</strong>*
        </label>
        <input type="text" class="form-control" formControlName="genre" />
        <div class="alert alert-danger animated flipInX delay-0.5s" *ngIf="genre.invalid && (genre.dirty || genre.touched)">
          <div *ngIf="genre.errors['required']">Genre is required</div>
          <div *ngIf="genre.errors['minlength']">Genre should be atleast 2 symbols long</div>
          <div *ngIf="genre.errors['maxlength']">Genre max length is 20 symbols</div>
        </div>
      </div>

      <div class="form-group">
        <label for="exampleTextarea">
          <strong>Game description</strong>*
        </label>
        <textarea class="form-control" rows="3" formControlName="description" ></textarea>
        <div class="alert alert-danger animated flipInX delay-0.5s" *ngIf="description.invalid && (description.dirty || description.touched)">
          <div *ngIf="description.errors['required']">Description is required</div>
          <div *ngIf="description.errors['minlength']">Description should be atleast 2 symbols long</div>
          <div *ngIf="description.errors['maxlength']">Description max length is 500 symbols</div>
        </div>
      </div>

      <div class="form-group">
        <label for="genre">
          <strong>Price</strong>*
        </label>
        <input class="form-control" type="number" step="0.01" formControlName="price" />
        <div class="alert alert-danger animated flipInX delay-0.5s" *ngIf="price.invalid && (price.dirty || price.touched)">
          <div *ngIf="price.errors['required']">Price is required</div>
          <div *ngIf="price.errors['min']">Price should be atleast 5$</div>
          <div *ngIf="price.errors['pattern']">Enter valid price</div>
        </div>
      </div>

      <div class="form-group">
        <label>
          <strong>Mode</strong>*
        </label>
        <div class="form-check" *ngFor="let mode of modes">
          <label class="form-check-label">
            <input type="radio" class="form-check-input" formControlName="mode" checked [value]=mode>{{mode}}
            <div class="alert alert-danger" *ngIf="mode.invalid && (mode.dirty || mode.touched)">
              <div *ngIf="mode.errors['required']">Mode is required</div>
            </div>
          </label>
        </div>
      </div>

      <button [disabled]="editGameForm.invalid" type="submit" class="btn btn-primary float-right">Submit</button>
    </form>
  </div>
</div>